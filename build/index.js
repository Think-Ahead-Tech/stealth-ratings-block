(()=>{"use strict";var e,t={268:()=>{const e=window.wp.blocks,t=window.wp.i18n,s=window.wp.blockEditor,r=window.wp.element,a=window.wp.components,l=window.ReactJSXRuntime,o=JSON.parse('{"UU":"stealth-ratings-block/stealth-ratings-block"}');(0,e.registerBlockType)(o.UU,{edit:function(e){const{attributes:o,setAttributes:i,isSelected:n}=e,{businessName:h,externalUrl:c,threshold:d}=o,[u,b]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[k,_]=(0,r.useState)(""),[v,w]=(0,r.useState)("");return[n&&(0,l.jsx)(s.InspectorControls,{children:(0,l.jsxs)(a.PanelBody,{title:(0,t.__)("Block Settings","stealth-ratings-block"),initialOpen:!0,children:[(0,l.jsx)(a.TextControl,{label:(0,t.__)("Business Name","stealth-ratings-block"),value:h,onChange:e=>i({businessName:e})}),(0,l.jsx)(a.TextControl,{label:(0,t.__)("External URL","stealth-ratings-block"),value:c,onChange:e=>i({externalUrl:e})}),(0,l.jsx)(a.TextControl,{type:"number",label:(0,t.__)("Threshold","stealth-ratings-block"),value:d,onChange:e=>i({threshold:Number(e)})})]})}),(0,l.jsxs)("div",{...(0,s.useBlockProps)(),children:[(0,l.jsx)("h3",{children:(0,t.__)("Rate Your Experience","stealth-ratings-block")}),(0,l.jsxs)("p",{children:[(0,t.__)("How would you rate your experience with","stealth-ratings-block")," ",h,"?"]}),(0,l.jsx)("div",{className:"stealth-ratings-stars",children:[1,2,3,4,5].map((e=>(0,l.jsx)("span",{className:e<=u?"star filled":"star",onClick:()=>(e=>{b(e),p(e<=d)})(e),style:{cursor:"pointer",fontSize:"2rem",color:e<=u?"#FFA800":"#DDD"},"aria-label":`${e} star${e>1?"s":""}`,children:"★"},e)))}),(0,l.jsx)("div",{style:{marginTop:"0.5rem",color:"#888",fontSize:"0.9rem"},children:(0,t.__)("Tap a star to rate","stealth-ratings-block")}),g&&u&&u<=d&&!m&&(0,l.jsxs)("form",{className:"stealth-ratings-form",onSubmit:e=>{e.preventDefault(),x(!0)},style:{marginTop:"1.5rem"},children:[(0,l.jsx)("p",{children:(0,t.__)("Thank you for your rating. We'd love to hear how we can improve.","stealth-ratings-block")}),(0,l.jsx)(a.TextControl,{label:(0,t.__)("How could","stealth-ratings-block")+` ${h} `+(0,t.__)("have done better?","stealth-ratings-block"),value:k,onChange:_,placeholder:(0,t.__)("Please share your thoughts...","stealth-ratings-block"),required:!0}),(0,l.jsx)(a.TextControl,{label:(0,t.__)("Your name (optional)","stealth-ratings-block"),value:v,onChange:w,placeholder:(0,t.__)("John Doe","stealth-ratings-block")}),(0,l.jsx)(a.Button,{variant:"primary",type:"submit",style:{marginTop:"1rem",width:"100%"},children:(0,t.__)("Submit Feedback","stealth-ratings-block")})]}),m&&(0,l.jsxs)(a.Notice,{status:"success",isDismissible:!1,style:{marginTop:"2rem",textAlign:"center",maxWidth:"480px",margin:"2rem auto"},children:[(0,l.jsx)("div",{style:{fontSize:"1.1rem",fontWeight:"bold"},children:(0,t.__)("Feedback Received","stealth-ratings-block")}),(0,l.jsx)("div",{style:{fontSize:"1.3rem",margin:"1rem 0"},children:"✓"}),(0,l.jsxs)("div",{children:[(0,t.__)("Thank you","stealth-ratings-block"),v?`, ${v}`:"","!",(0,l.jsx)("br",{}),(0,t.__)("Your feedback has been received and will help","stealth-ratings-block")," ",h," ",(0,t.__)("improve. We appreciate you taking the time to share your thoughts with us.","stealth-ratings-block")]})]}),u&&u>d&&!g&&(0,l.jsxs)(a.Notice,{status:"info",isDismissible:!1,style:{marginTop:"2rem",textAlign:"center",maxWidth:"480px",margin:"2rem auto"},children:[(0,l.jsx)("div",{style:{marginTop:"1rem"},children:(0,t.__)("In the published site, you'll be taken to:","stealth-ratings-block")}),(0,l.jsx)("div",{style:{color:"#2563eb",marginTop:"0.5rem",wordBreak:"break-all"},children:c})]})]})]}})}},s={};function r(e){var a=s[e];if(void 0!==a)return a.exports;var l=s[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,s,a,l)=>{if(!s){var o=1/0;for(c=0;c<e.length;c++){for(var[s,a,l]=e[c],i=!0,n=0;n<s.length;n++)(!1&l||o>=l)&&Object.keys(r.O).every((e=>r.O[e](s[n])))?s.splice(n--,1):(i=!1,l<o&&(o=l));if(i){e.splice(c--,1);var h=a();void 0!==h&&(t=h)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[s,a,l]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var a,l,[o,i,n]=s,h=0;if(o.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(n)var c=n(r)}for(t&&t(s);h<o.length;h++)l=o[h],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},s=globalThis.webpackChunkstealth_ratings_block=globalThis.webpackChunkstealth_ratings_block||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=r.O(void 0,[350],(()=>r(268)));a=r.O(a)})();